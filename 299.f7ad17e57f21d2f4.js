"use strict";(self.webpackChunkSistema_Contable=self.webpackChunkSistema_Contable||[]).push([[299],{1299:(mt,C,i)=>{i.r(C),i.d(C,{ProveedoresModule:()=>at});var u=i(9299),s=i(5861),x=i(8739),f=i(6308),l=i(7155),A=i(7120);const F=JSON.parse('[{"proveedorID":1,"codigo":"PV01","nombre":"Proveedor 1","direccion":"Guatemala","nit":"813224-5","cuentaID":5,"cuentaContable":{"cuentaID":5,"empresaID":1,"padreCuentaID":1,"codigo":"1.2","nombre":"Banco"}}]');var t=i(4650),_=i(5938),D=i(2628),g=i(4859),U=i(7392),N=i(4850),c=i(3546),v=i(8255),T=i(7506),I=i(6706);function y(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"ID"),t.qZA())}function Q(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.proveedorID," ")}}function J(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Codigo"),t.qZA())}function L(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.codigo," ")}}function Y(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Nombre"),t.qZA())}function S(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.nombre," ")}}function q(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Cuenta Contable"),t.qZA())}function w(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.AsE(" ",o.cuentaContable.codigo,". ",o.cuentaContable.nombre," ")}}function j(e,r){1&e&&(t.TgZ(0,"th",28),t._uU(1,"NIT"),t.qZA())}function M(e,r){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.xp6(1),t.hij(" ",o.nit," ")}}function O(e,r){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Acciones"),t.qZA())}function B(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td",31)(1,"div",32)(2,"button",33)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,34)(7,"button",35),t.NdJ("click",function(){const d=t.CHM(o).$implicit,Z=t.oxw();return t.KtG(Z.edit(d))}),t._uU(8,"Editar"),t.qZA(),t._UZ(9,"mat-divider"),t.TgZ(10,"button",36),t.NdJ("click",function(){const d=t.CHM(o).$implicit,Z=t.oxw();return t.KtG(Z.delete(d))}),t._uU(11," Eliminar "),t.qZA()()()()}if(2&e){const o=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",o)}}function P(e,r){1&e&&t._UZ(0,"tr",37)}function E(e,r){1&e&&t._UZ(0,"tr",38)}const H=function(){return[25,50,100]};let R=(()=>{class e{constructor(o,n,m){this.router=o,this.dialog=n,this.notificationsService=m,this.dataSource=new l.by,this.columns=["proveedorID","codigo","nombre","nit","cuentaContable"]}ngOnInit(){this.dataSource.data=F}new(){this.router.navigate(["/workspace/catalogos/proveedores/nuevo"])}edit(o){this.router.navigate(["/content/catalogos/proveedores/edit",o._id])}delete(o){this.dialog.open(A.$,{width:"95%",maxWidth:"500px",data:{message:"\xbfEsta seguro que desea eliminarlo?",submit:"Aceptar",cancel:"Cancelar"}}).afterClosed().subscribe(function(){var m=(0,s.Z)(function*(d){});return function(d){return m.apply(this,arguments)}}())}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.F0),t.Y36(_.uw),t.Y36(D.T))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(o,n){if(1&o&&(t.Gf(x.NW,7),t.Gf(f.YE,7)),2&o){let m;t.iGM(m=t.CRH())&&(n.paginator=m.first),t.iGM(m=t.CRH())&&(n.sort=m.first)}},decls:41,vars:8,consts:[[1,"container-fluid"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"d-flex","align-items-center","txt-blue2","mb-4"],[1,"title"],[1,"row"],[1,"col-md-10"],[3,"dataSource"],[1,"col-md-2","d-flex","justify-content-end"],["mat-raised-button","",1,"bg-blue3","txt-white","squared-button","w-auto",3,"click"],[3,"loading"],[1,"row",3,"hidden"],[1,"col-sm-12"],[1,"table-container"],["mat-table","","matSort","","matSortActive","key","matSortDirection","asc","appTableQuery","",1,"table-responsive-sm","table-hover",3,"dataSource"],["matColumnDef","proveedorID"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","codigo"],["matColumnDef","nombre"],["matColumnDef","cuentaContable"],["matColumnDef","nit"],["matColumnDef","actions"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"d-flex","flex-column-reverse","flex-md-row","align-items-center","justify-content-between"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],[1,"d-flex","justify-content-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"txt-red3",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4," Proveedores "),t.qZA()()(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"app-search-bar",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return n.new()}),t._uU(10," Crear nuevo "),t.qZA()()(),t._UZ(11,"app-circular-loading",9),t.TgZ(12,"div",10)(13,"div",11)(14,"mat-card")(15,"mat-card-content")(16,"div")(17,"div",12)(18,"table",13),t.ynx(19,14),t.YNc(20,y,2,0,"th",15),t.YNc(21,Q,2,1,"td",16),t.BQk(),t.ynx(22,17),t.YNc(23,J,2,0,"th",15),t.YNc(24,L,2,1,"td",16),t.BQk(),t.ynx(25,18),t.YNc(26,Y,2,0,"th",15),t.YNc(27,S,2,1,"td",16),t.BQk(),t.ynx(28,19),t.YNc(29,q,2,0,"th",15),t.YNc(30,w,2,2,"td",16),t.BQk(),t.ynx(31,20),t.YNc(32,j,2,0,"th",15),t.YNc(33,M,2,1,"td",16),t.BQk(),t.ynx(34,21),t.YNc(35,O,2,0,"th",22),t.YNc(36,B,12,1,"td",23),t.BQk(),t.YNc(37,P,1,0,"tr",24),t.YNc(38,E,1,0,"tr",25),t.qZA()(),t.TgZ(39,"div",26),t._UZ(40,"mat-paginator",27),t.qZA()()()()()()()),2&o&&(t.xp6(7),t.Q6J("dataSource",n.dataSource),t.xp6(4),t.Q6J("loading",n.loading),t.xp6(1),t.Q6J("hidden",n.loading),t.xp6(6),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.columns),t.xp6(1),t.Q6J("matRowDefColumns",n.columns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(7,H)))},dependencies:[g.lW,U.Hw,N.d,c.a8,c.dn,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,f.YE,f.nU,x.NW,v.VK,v.OP,v.p6,T.s,I.N]}),e})();var a=i(4006),G=i(9758),h=i(6895),p=i(9549),$=i(4144),z=i(4385),K=i(3238),W=i(9429);function k(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.codigoField))}}function X(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.nombreField))}}function V(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.nitField))}}function tt(e,r){if(1&e&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.cuentaID),t.xp6(1),t.AsE(" ",o.codigo,". ",o.nombre," ")}}function et(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,o.cuentaIDField)," ")}}const ot=function(){return["/workspace/catalogos/proveedores"]};let b=(()=>{class e{constructor(o,n,m){this.formBuilder=o,this.activeRoute=n,this.router=m,this.loading=!0,this.buildForm(),this.router.url.includes("/nuevo")?(this.edit=!1,this.baseKey="nuevo"):(this.activeRoute.params.subscribe(d=>{this.proveedorID=Number(d.ID)}),this.edit=!0,this.baseKey="edit",this.patchForm()),this.listCuentas=G}ngOnInit(){this.loading=!1}create(o){o.preventDefault(),this.edit?this.update():this.save(),this.edit=!1}save(){return(0,s.Z)(function*(){})()}update(){return(0,s.Z)(function*(){})()}buildForm(){this.form=this.formBuilder.group({codigo:["",[a.kI.required]],nombre:["",[a.kI.required]],cuentaID:["",[a.kI.required]],nit:["",[a.kI.required]]})}patchForm(){var o=this;return(0,s.Z)(function*(){o.form.patchValue({codigo:o.proveedor.codigo,nombre:o.proveedor.nombre,cuentaID:o.proveedor.cuentaID,nit:o.proveedor.nit})})()}get codigoField(){return this.form.get("codigo")}get nombreField(){return this.form.get("nombre")}get cuentaIDField(){return this.form.get("cuentaID")}get nitField(){return this.form.get("nit")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(a.QS),t.Y36(u.gz),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-form"]],decls:56,vars:17,consts:[[1,"container-fluid"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"d-flex","align-items-center","txt-blue2","mb-4"],[1,"title"],[3,"loading"],[1,"row",3,"hidden"],[1,"col-sm-12"],["form","form",3,"formGroup","ngSubmit"],[1,"subheader"],[1,"row"],[1,"form-group"],["appearance","outline"],["appTrim","","matInput","","type","text","formControlName","codigo","minlength","1","maxlength","20",3,"formControl"],[4,"ngIf"],["align","end"],["appTrim","","matInput","","type","text","formControlName","nombre","minlength","1","maxlength","20",3,"formControl"],["appTrim","","matInput","","type","text","formControlName","nit","minlength","1","maxlength","20",3,"formControl"],["formControlName","cuentaID"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group",2,"text-align","right !important"],["mat-button","",1,"w-auto",3,"routerLink"],["mat-raised-button","","type","submit",1,"bg-blue3","txt-white","squared-button","w-auto"],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4," Proveedores "),t.qZA()()(),t._UZ(5,"app-circular-loading",4),t.TgZ(6,"div",5)(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(d){return n.create(d)}),t.TgZ(9,"mat-card")(10,"mat-card-header")(11,"mat-card-title")(12,"span",8),t._uU(13),t.qZA()()(),t.TgZ(14,"mat-card-content")(15,"div",9)(16,"div",6)(17,"div",10)(18,"mat-form-field",11)(19,"mat-label"),t._uU(20," Codigo "),t.qZA(),t._UZ(21,"input",12),t.YNc(22,k,3,3,"mat-error",13),t.TgZ(23,"mat-hint",14),t._uU(24),t.qZA()()()(),t.TgZ(25,"div",6)(26,"div",10)(27,"mat-form-field",11)(28,"mat-label"),t._uU(29," Nombre "),t.qZA(),t._UZ(30,"input",15),t.YNc(31,X,3,3,"mat-error",13),t.TgZ(32,"mat-hint",14),t._uU(33),t.qZA()()()(),t.TgZ(34,"div",6)(35,"div",10)(36,"mat-form-field",11)(37,"mat-label"),t._uU(38," NIT "),t.qZA(),t._UZ(39,"input",16),t.YNc(40,V,3,3,"mat-error",13),t.TgZ(41,"mat-hint",14),t._uU(42),t.qZA()()()(),t.TgZ(43,"div",6)(44,"div",10)(45,"mat-form-field",11)(46,"mat-label"),t._uU(47," Cuenta "),t.qZA(),t.TgZ(48,"mat-select",17),t.YNc(49,tt,2,3,"mat-option",18),t.qZA(),t.YNc(50,et,3,3,"mat-error",13),t.qZA()()()()(),t.TgZ(51,"mat-card-actions",19)(52,"a",20),t._uU(53," Cancelar "),t.qZA(),t.TgZ(54,"button",21),t._uU(55," Guardar "),t.qZA()()()()()()()),2&o&&(t.xp6(5),t.Q6J("loading",n.loading),t.xp6(1),t.Q6J("hidden",n.loading),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(5),t.Oqu("nuevo"===n.baseKey?"Nuevo Proveedor":"Editar Proveedor"),t.xp6(8),t.Q6J("formControl",n.codigoField),t.xp6(1),t.Q6J("ngIf",n.codigoField.errors),t.xp6(2),t.hij("",null==n.codigoField.value?null:n.codigoField.value.length," / 2"),t.xp6(6),t.Q6J("formControl",n.nombreField),t.xp6(1),t.Q6J("ngIf",n.nombreField.errors),t.xp6(2),t.hij("",null==n.nombreField.value?null:n.nombreField.value.length," / 20"),t.xp6(6),t.Q6J("formControl",n.nitField),t.xp6(1),t.Q6J("ngIf",n.nitField.errors),t.xp6(2),t.hij("",null==n.nitField.value?null:n.nitField.value.length," / 20"),t.xp6(7),t.Q6J("ngForOf",n.listCuentas),t.xp6(1),t.Q6J("ngIf",n.cuentaIDField.errors),t.xp6(2),t.Q6J("routerLink",t.DdM(16,ot)))},dependencies:[h.sg,h.O5,a._Y,a.Fj,a.JJ,a.JL,a.wO,a.nD,a.oH,a.sg,a.u,g.lW,g.zs,c.a8,c.dk,c.dn,c.n5,c.hq,p.TO,p.KE,p.bx,p.hX,$.Nt,z.gD,K.ey,T.s,u.yS,W.P]}),e})();const nt=[{path:"",component:R},{path:"nuevo",component:b},{path:"edit/:ID",component:b}];let rt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(nt),u.Bz]}),e})();var it=i(4185);let at=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.ez,it.m,rt]}),e})()}}]);