"use strict";(self.webpackChunkSistema_Contable=self.webpackChunkSistema_Contable||[]).push([[412],{8412:(Bt,T,i)=>{i.r(T),i.d(T,{PartidasModule:()=>Ht});var p=i(6895),J=i(4185),f=i(9299),d=i(5861),D=i(8739),_=i(6308),m=i(7155),v=i(7120),t=i(4650),Z=i(5938),b=i(2628),C=i(4859),F=i(7392),A=i(4850),h=i(3546),g=i(8255),U=i(7506),w=i(6706);function L(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"ID"),t.qZA())}function k(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.partidaID," ")}}function j(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Fecha Documento"),t.qZA())}function M(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.fechaDocumento," ")}}function R(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Fecha Registro"),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.fechaRegistro," ")}}function E(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Referencia"),t.qZA())}function H(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.referencia," ")}}function B(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Moneda"),t.qZA())}function O(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.moneda," ")}}function $(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Empresa"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.empresa," ")}}function G(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Total"),t.qZA())}function K(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.total," ")}}function z(e,n){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Texto"),t.qZA())}function W(e,n){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.texto," ")}}function X(e,n){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Acciones"),t.qZA())}function V(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",34)(1,"div",35)(2,"button",36)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,37)(7,"button",38),t.NdJ("click",function(){const c=t.CHM(o).$implicit,s=t.oxw();return t.KtG(s.edit(c))}),t._uU(8,"Editar"),t.qZA(),t._UZ(9,"mat-divider"),t.TgZ(10,"button",39),t.NdJ("click",function(){const c=t.CHM(o).$implicit,s=t.oxw();return t.KtG(s.delete(c))}),t._uU(11," Eliminar "),t.qZA()()()()}if(2&e){const o=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",o)}}function tt(e,n){1&e&&t._UZ(0,"tr",40)}function et(e,n){1&e&&t._UZ(0,"tr",41)}const ot=function(){return[25,50,100]};let nt=(()=>{class e{constructor(o,a,l){this.router=o,this.dialog=a,this.notificationsService=l,this.dataSource=new m.by,this.columns=["partidaID","fechaDocumento","fechaRegistro","referencia","moneda","empresa","texto","total"]}ngOnInit(){}new(){this.router.navigate(["/workspace/procesos/partidas/nuevo"])}edit(o){this.router.navigate(["/content/procesos/partidas/edit",o._id])}delete(o){this.dialog.open(v.$,{width:"95%",maxWidth:"500px",data:{message:"\xbfEsta seguro que desea eliminarlo?",submit:"Aceptar",cancel:"Cancelar"}}).afterClosed().subscribe(function(){var l=(0,d.Z)(function*(c){});return function(c){return l.apply(this,arguments)}}())}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.F0),t.Y36(Z.uw),t.Y36(b.T))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(o,a){if(1&o&&(t.Gf(D.NW,7),t.Gf(_.YE,7)),2&o){let l;t.iGM(l=t.CRH())&&(a.paginator=l.first),t.iGM(l=t.CRH())&&(a.sort=l.first)}},decls:50,vars:8,consts:[[1,"container-fluid"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"d-flex","align-items-center","txt-blue2","mb-4"],[1,"title"],[1,"row"],[1,"col-md-10"],[3,"dataSource"],[1,"col-md-2","d-flex","justify-content-end"],["mat-raised-button","",1,"bg-blue3","txt-white","squared-button","w-auto",3,"click"],[3,"loading"],[1,"row",3,"hidden"],[1,"col-sm-12"],[1,"table-container"],["mat-table","","matSort","","matSortActive","key","matSortDirection","asc","appTableQuery","",1,"table-responsive-sm","table-hover",3,"dataSource"],["matColumnDef","partidaID"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fechaDocumento"],["matColumnDef","fechaRegistro"],["matColumnDef","referencia"],["matColumnDef","moneda"],["matColumnDef","empresa"],["matColumnDef","total"],["matColumnDef","texto"],["matColumnDef","actions"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"d-flex","flex-column-reverse","flex-md-row","align-items-center","justify-content-between"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],[1,"d-flex","justify-content-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"txt-red3",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4," Partidas Contables "),t.qZA()()(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"app-search-bar",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return a.new()}),t._uU(10," Crear nuevo "),t.qZA()()(),t._UZ(11,"app-circular-loading",9),t.TgZ(12,"div",10)(13,"div",11)(14,"mat-card")(15,"mat-card-content")(16,"div")(17,"div",12)(18,"table",13),t.ynx(19,14),t.YNc(20,L,2,0,"th",15),t.YNc(21,k,2,1,"td",16),t.BQk(),t.ynx(22,17),t.YNc(23,j,2,0,"th",15),t.YNc(24,M,2,1,"td",16),t.BQk(),t.ynx(25,18),t.YNc(26,R,2,0,"th",15),t.YNc(27,S,2,1,"td",16),t.BQk(),t.ynx(28,19),t.YNc(29,E,2,0,"th",15),t.YNc(30,H,2,1,"td",16),t.BQk(),t.ynx(31,20),t.YNc(32,B,2,0,"th",15),t.YNc(33,O,2,1,"td",16),t.BQk(),t.ynx(34,21),t.YNc(35,$,2,0,"th",15),t.YNc(36,P,2,1,"td",16),t.BQk(),t.ynx(37,22),t.YNc(38,G,2,0,"th",15),t.YNc(39,K,2,1,"td",16),t.BQk(),t.ynx(40,23),t.YNc(41,z,2,0,"th",15),t.YNc(42,W,2,1,"td",16),t.BQk(),t.ynx(43,24),t.YNc(44,X,2,0,"th",25),t.YNc(45,V,12,1,"td",26),t.BQk(),t.YNc(46,tt,1,0,"tr",27),t.YNc(47,et,1,0,"tr",28),t.qZA()(),t.TgZ(48,"div",29),t._UZ(49,"mat-paginator",30),t.qZA()()()()()()()),2&o&&(t.xp6(7),t.Q6J("dataSource",a.dataSource),t.xp6(4),t.Q6J("loading",a.loading),t.xp6(1),t.Q6J("hidden",a.loading),t.xp6(6),t.Q6J("dataSource",a.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",a.columns),t.xp6(1),t.Q6J("matRowDefColumns",a.columns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(7,ot)))},dependencies:[C.lW,F.Hw,A.d,h.a8,h.dn,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,_.YE,_.nU,D.NW,g.VK,g.OP,g.p6,U.s,w.N]}),e})();var at=i(9758),it=i(299),rt=i(5618),r=i(4006);class lt{}var u=i(9549),N=i(4144),q=i(4385),I=i(3238),Y=i(9429);function mt(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.cuentaID),t.xp6(1),t.AsE(" ",o.codigo,". ",o.nombre," ")}}function ct(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,o.cuentaIDField)," ")}}function st(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.debeField))}}function dt(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.haberField))}}function ut(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.costoID),t.xp6(1),t.hij(" ",o.nombre," ")}}function pt(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,o.costoIDField)," ")}}let ft=(()=>{class e{constructor(o,a,l,c){this.dialogRef=o,this.data=a,this.formBuilder=l,this.notificationsService=c,console.log(a.listCuentas),this.listCuentas=a.listCuentas,this.listCentroCosto=a.listCentroCosto}ngOnInit(){this.buildForm()}onNoClick(){this.dialogRef.close(null)}confirmed(){0===this.debeField.value&&0===this.haberField.value?this.notificationsService.errorCatched("El debe o el haber deben ser mayor a 0"):(this.partidaDetalle=new lt,this.partidaDetalle.cuentaID=this.cuentaIDField.value,this.partidaDetalle.costoID=this.costoIDField.value,this.partidaDetalle.debe=this.debeField.value,this.partidaDetalle.haber=this.haberField.value,this.partidaDetalle.monto=this.partidaDetalle.debe+this.partidaDetalle.haber,this.partidaDetalle.cuenta=this.listCuentas.find(o=>o.cuentaID===this.cuentaIDField.value),this.partidaDetalle.centroCosto=this.listCentroCosto.find(o=>o.costoID===this.costoIDField.value)),this.dialogRef.close(this.partidaDetalle)}buildForm(){this.form=this.formBuilder.group({cuentaID:["",[r.kI.required]],costoID:[""],monto:[0,[r.kI.required]],debe:[0,[r.kI.required]],haber:[0,[r.kI.required]]})}patchForm(){var o=this;return(0,d.Z)(function*(){o.form.patchValue({cuentaID:o.partidaDetalle.cuentaID,costoID:o.partidaDetalle.costoID,monto:o.partidaDetalle.monto,debe:o.partidaDetalle.debe,haber:o.partidaDetalle.haber})})()}get cuentaIDField(){return this.form.get("cuentaID")}get costoIDField(){return this.form.get("costoID")}get haberField(){return this.form.get("haber")}get debeField(){return this.form.get("debe")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Z.so),t.Y36(Z.WI),t.Y36(r.QS),t.Y36(b.T))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detalle-dialog-form"]],decls:39,vars:9,consts:[[1,"row-cols-1","text-center"],["form","form",3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],["appearance","outline"],["formControlName","cuentaID"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-sm-6"],["appTrim","","matInput","","type","number","formControlName","debe",3,"formControl"],["appTrim","","matInput","","type","number","formControlName","haber",3,"formControl"],["formControlName","costoID"],[1,"d-flex","flex-row","justify-content-end"],["mat-button","",3,"click"],["mat-raised-button","",1,"bg-blue3","txt-white","squared-button","w-auto",3,"click"],[3,"value"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7," Cuenta "),t.qZA(),t.TgZ(8,"mat-select",6),t.YNc(9,mt,2,3,"mat-option",7),t.qZA(),t.YNc(10,ct,3,3,"mat-error",8),t.qZA()()(),t.TgZ(11,"div",9)(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),t._uU(15," Debe "),t.qZA(),t._UZ(16,"input",10),t.YNc(17,st,3,3,"mat-error",8),t.qZA()()(),t.TgZ(18,"div",9)(19,"div",4)(20,"mat-form-field",5)(21,"mat-label"),t._uU(22," Haber "),t.qZA(),t._UZ(23,"input",11),t.YNc(24,dt,3,3,"mat-error",8),t.qZA()()(),t.TgZ(25,"div",3)(26,"div",4)(27,"mat-form-field",5)(28,"mat-label"),t._uU(29," Centro de costo "),t.qZA(),t.TgZ(30,"mat-select",12),t.YNc(31,ut,2,2,"mat-option",7),t.qZA(),t.YNc(32,pt,3,3,"mat-error",8),t.qZA()()()()()(),t._UZ(33,"br"),t.TgZ(34,"div",13)(35,"button",14),t.NdJ("click",function(){return a.onNoClick()}),t._uU(36," Cancelar "),t.qZA(),t.TgZ(37,"button",15),t.NdJ("click",function(){return a.confirmed()}),t._uU(38," Guardar "),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(8),t.Q6J("ngForOf",a.listCuentas),t.xp6(1),t.Q6J("ngIf",a.cuentaIDField.errors),t.xp6(6),t.Q6J("formControl",a.debeField),t.xp6(1),t.Q6J("ngIf",a.debeField.errors),t.xp6(6),t.Q6J("formControl",a.haberField),t.xp6(1),t.Q6J("ngIf",a.haberField.errors),t.xp6(7),t.Q6J("ngForOf",a.listCentroCosto),t.xp6(1),t.Q6J("ngIf",a.costoIDField.errors))},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.oH,r.sg,r.u,C.lW,u.TO,u.KE,u.hX,N.Nt,q.gD,I.ey,Y.P]}),e})();var Q=i(1938),x=i(9602);function ht(e,n){if(1&e&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.empresaID),t.xp6(1),t.hij(" ",o.nombre," ")}}function gt(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,o.empresaIDField)," ")}}function _t(e,n){if(1&e&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function Zt(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,o.empresaIDField)," ")}}function Ct(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"formErrorHandler"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.textoField))}}function xt(e,n){1&e&&(t.TgZ(0,"th",52),t._uU(1,"Cuenta Contable"),t.qZA())}function Tt(e,n){if(1&e&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.AsE(" ",o.cuenta.codigo,". ",o.cuenta.nombre," ")}}function Dt(e,n){1&e&&(t.TgZ(0,"td",54),t._uU(1,"Total"),t.qZA())}function vt(e,n){1&e&&(t.TgZ(0,"th",52),t._uU(1,"Centro de costo"),t.qZA())}function bt(e,n){if(1&e&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.centroCosto.nombre," ")}}function Ft(e,n){1&e&&t._UZ(0,"td",54)}function At(e,n){1&e&&(t.TgZ(0,"th",52),t._uU(1,"Monto"),t.qZA())}function Ut(e,n){if(1&e&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.monto," ")}}function Nt(e,n){if(1&e&&(t.TgZ(0,"td",54),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,o.getTotalMonto(),o.monedaField.value)," ")}}function qt(e,n){1&e&&(t.TgZ(0,"th",52),t._uU(1,"Debe"),t.qZA())}function It(e,n){if(1&e&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.debe," ")}}function Yt(e,n){if(1&e&&(t.TgZ(0,"td",54),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,o.getTotalDebe(),o.monedaField.value)," ")}}function Qt(e,n){1&e&&(t.TgZ(0,"th",52),t._uU(1,"Haber"),t.qZA())}function yt(e,n){if(1&e&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.haber," ")}}function Jt(e,n){if(1&e&&(t.TgZ(0,"td",54),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,o.getTotalHaber(),o.monedaField.value)," ")}}function wt(e,n){1&e&&(t.TgZ(0,"th",55),t._uU(1,"Acciones"),t.qZA())}function Lt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",56)(1,"div",57)(2,"button",58)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,59)(7,"button",60),t.NdJ("click",function(){const c=t.CHM(o).$implicit,s=t.oxw();return t.KtG(s.edit(c))}),t._uU(8,"Editar"),t.qZA(),t._UZ(9,"mat-divider"),t.TgZ(10,"button",61),t.NdJ("click",function(){const c=t.CHM(o).$implicit,s=t.oxw();return t.KtG(s.delete(c))}),t._uU(11," Eliminar "),t.qZA()()()()}if(2&e){const o=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",o)}}function kt(e,n){1&e&&t._UZ(0,"tr",62)}function jt(e,n){1&e&&t._UZ(0,"tr",63)}function Mt(e,n){1&e&&t._UZ(0,"tr",64)}const Rt=function(){return["/workspace/catalogos/proveedores"]};let y=(()=>{class e{constructor(o,a,l,c){this.formBuilder=o,this.activeRoute=a,this.dialog=l,this.router=c,this.dataSource=new m.by,this.columns=["cuenta","centroCosto","monto","debe","haber"],this.partidaDetalle=[],this.loading=!0,this.buildForm(),this.router.url.includes("/nuevo")?(this.canEdit=!1,this.baseKey="nuevo"):(this.activeRoute.params.subscribe(s=>{this.partidaID=Number(s.ID)}),this.canEdit=!0,this.baseKey="edit",this.patchForm()),this.listCuentas=at,this.listEmpresas=it,this.listCentroCosto=rt,this.listMonedas=Q.YP.Monedas}ngOnInit(){this.loading=!1}create(o){o.preventDefault(),this.canEdit?this.update():this.save(),this.canEdit=!1}save(){return(0,d.Z)(function*(){})()}update(){return(0,d.Z)(function*(){})()}edit(o){return(0,d.Z)(function*(){})()}delete(o){var a=this;return(0,d.Z)(function*(){a.dialog.open(v.$,{width:"95%",maxWidth:"500px",data:{message:"\xbfEsta seguro que desea eliminarlo?",submit:"Aceptar",cancel:"Cancelar"}}).afterClosed().subscribe(function(){var c=(0,d.Z)(function*(s){});return function(s){return c.apply(this,arguments)}}())})()}buildForm(){this.form=this.formBuilder.group({fechaDocumento:["",[r.kI.required]],moneda:[Q.YP.Monedas[0],[r.kI.required]],empresaID:["",[r.kI.required]],texto:["",[r.kI.required]],total:[0]})}patchForm(){var o=this;return(0,d.Z)(function*(){o.form.patchValue({fechaDocumento:o.partida.fechaDocumento,moneda:o.partida.moneda,empresaID:o.partida.empresaID,texto:o.partida.texto,total:o.partida.total})})()}agregarDetalle(){var o=this;this.dialog.open(ft,{data:{listCuentas:this.listCuentas,listCentroCosto:this.listCentroCosto}}).afterClosed().subscribe(function(){var l=(0,d.Z)(function*(c){c&&(o.partidaDetalle.push(c),o.dataSource.data=o.partidaDetalle)});return function(c){return l.apply(this,arguments)}}())}getTotalMonto(){return this.partidaDetalle.map(o=>o.monto).reduce((o,a)=>o+a,0)}getTotalDebe(){return this.partidaDetalle.map(o=>o.debe).reduce((o,a)=>o+a,0)}getTotalHaber(){return this.partidaDetalle.map(o=>o.haber).reduce((o,a)=>o+a,0)}get fechaDocumentoField(){return this.form.get("fechaDocumento")}get monedaField(){return this.form.get("moneda")}get empresaIDField(){return this.form.get("empresaID")}get textoField(){return this.form.get("texto")}get totalField(){return this.form.get("total")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.QS),t.Y36(f.gz),t.Y36(Z.uw),t.Y36(f.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-form"]],decls:101,vars:21,consts:[[1,"container-fluid"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"d-flex","align-items-center","txt-blue2","mb-4"],[1,"title"],[3,"loading"],[1,"row",3,"hidden"],[1,"col-sm-12"],["form","form",3,"formGroup","ngSubmit"],[1,"subtitle"],[1,"d-flex","flex-row","align-items-center","mb-4"],[1,"tag"],[1,"ml-auto"],["mat-button","",1,"w-auto",3,"routerLink"],["mat-raised-button","","type","submit",1,"bg-blue3","txt-white","squared-button","w-auto"],[1,"row"],[1,"col-sm-5"],[1,"form-group"],["appearance","outline"],["formControlName","empresaID","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-sm-4"],["matInput","","formControlName","fechaDocumento","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-sm-3"],["formControlName","moneda","required",""],[1,"col-sm-9"],["appTrim","","matInput","","type","text","formControlName","texto","minlength","1","maxlength","20",3,"formControl"],["align","end"],["appearance","outline",2,"pointer-events","none"],["matInput","","type","text","formControlName","total",3,"formControl","value"],[1,"mb-3"],[1,"tag","mr-2"],["mat-mini-fab","",2,"background-color","mediumseagreen",3,"click"],[1,"table-container"],["mat-table","","matSort","","matSortActive","key","matSortDirection","asc","appTableQuery","",1,"table-responsive-sm","table-hover",3,"dataSource"],["matColumnDef","cuenta"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","","class","font-weight-bolder",4,"matFooterCellDef"],["matColumnDef","centroCosto"],["matColumnDef","monto"],["matColumnDef","debe"],["matColumnDef","haber"],["matColumnDef","actions"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell","",1,"font-weight-bolder"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],[1,"d-flex","justify-content-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"txt-red3",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4," Partidas Contables "),t.qZA()()(),t._UZ(5,"app-circular-loading",4),t.TgZ(6,"div",5)(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(c){return a.create(c)}),t.TgZ(9,"mat-card")(10,"mat-card-header")(11,"mat-card-title")(12,"div",2)(13,"span",8),t._uU(14),t.qZA()()()(),t.TgZ(15,"mat-card-content")(16,"div",9)(17,"span",10),t._uU(18," Datos generales "),t.qZA(),t.TgZ(19,"div",11)(20,"a",12),t._uU(21," Cancelar "),t.qZA(),t.TgZ(22,"button",13),t._uU(23," Guardar "),t.qZA()()(),t.TgZ(24,"div",14)(25,"div",15)(26,"div",16)(27,"mat-form-field",17)(28,"mat-label"),t._uU(29," Empresa "),t.qZA(),t.TgZ(30,"mat-select",18),t.YNc(31,ht,2,2,"mat-option",19),t.qZA(),t.YNc(32,gt,3,3,"mat-error",20),t.qZA()()(),t.TgZ(33,"div",21)(34,"div",16)(35,"mat-form-field",17)(36,"mat-label"),t._uU(37,"Fecha documento"),t.qZA(),t._UZ(38,"input",22)(39,"mat-datepicker-toggle",23)(40,"mat-datepicker",null,24),t.qZA()()(),t.TgZ(42,"div",25)(43,"div",16)(44,"mat-form-field",17)(45,"mat-label"),t._uU(46," Moneda "),t.qZA(),t.TgZ(47,"mat-select",26),t.YNc(48,_t,2,2,"mat-option",19),t.qZA(),t.YNc(49,Zt,3,3,"mat-error",20),t.qZA()()(),t.TgZ(50,"div",27)(51,"div",16)(52,"mat-form-field",17)(53,"mat-label"),t._uU(54," Texto "),t.qZA(),t._UZ(55,"input",28),t.YNc(56,Ct,3,3,"mat-error",20),t.TgZ(57,"mat-hint",29),t._uU(58),t.qZA()()()(),t.TgZ(59,"div",25)(60,"div",16)(61,"mat-form-field",30)(62,"mat-label"),t._uU(63," Total "),t.qZA(),t._UZ(64,"input",31),t.qZA()()()()(),t.TgZ(65,"mat-card-content")(66,"div",32)(67,"span",33),t._uU(68," Detalle partida "),t.qZA(),t.TgZ(69,"button",34),t.NdJ("click",function(){return a.agregarDetalle()}),t.TgZ(70,"mat-icon"),t._uU(71,"add"),t.qZA()()(),t.TgZ(72,"div")(73,"div",35)(74,"table",36),t.ynx(75,37),t.YNc(76,xt,2,0,"th",38),t.YNc(77,Tt,2,2,"td",39),t.YNc(78,Dt,2,0,"td",40),t.BQk(),t.ynx(79,41),t.YNc(80,vt,2,0,"th",38),t.YNc(81,bt,2,1,"td",39),t.YNc(82,Ft,1,0,"td",40),t.BQk(),t.ynx(83,42),t.YNc(84,At,2,0,"th",38),t.YNc(85,Ut,2,1,"td",39),t.YNc(86,Nt,3,4,"td",40),t.BQk(),t.ynx(87,43),t.YNc(88,qt,2,0,"th",38),t.YNc(89,It,2,1,"td",39),t.YNc(90,Yt,3,4,"td",40),t.BQk(),t.ynx(91,44),t.YNc(92,Qt,2,0,"th",38),t.YNc(93,yt,2,1,"td",39),t.YNc(94,Jt,3,4,"td",40),t.BQk(),t.ynx(95,45),t.YNc(96,wt,2,0,"th",46),t.YNc(97,Lt,12,1,"td",47),t.BQk(),t.YNc(98,kt,1,0,"tr",48),t.YNc(99,jt,1,0,"tr",49),t.YNc(100,Mt,1,0,"tr",50),t.qZA()()()()()()()()()),2&o){const l=t.MAs(41);t.xp6(5),t.Q6J("loading",a.loading),t.xp6(1),t.Q6J("hidden",a.loading),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(6),t.hij(" ","nuevo"===a.baseKey?"Nueva Partida":"Editar Partida"," "),t.xp6(6),t.Q6J("routerLink",t.DdM(20,Rt)),t.xp6(11),t.Q6J("ngForOf",a.listEmpresas),t.xp6(1),t.Q6J("ngIf",a.empresaIDField.errors),t.xp6(6),t.Q6J("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(9),t.Q6J("ngForOf",a.listMonedas),t.xp6(1),t.Q6J("ngIf",a.empresaIDField.errors),t.xp6(6),t.Q6J("formControl",a.textoField),t.xp6(1),t.Q6J("ngIf",a.textoField.errors),t.xp6(2),t.hij("",null==a.textoField.value?null:a.textoField.value.length," / 20"),t.xp6(6),t.Q6J("formControl",a.totalField)("value",a.getTotalMonto()),t.xp6(10),t.Q6J("dataSource",a.dataSource),t.xp6(24),t.Q6J("matHeaderRowDef",a.columns),t.xp6(1),t.Q6J("matRowDefColumns",a.columns),t.xp6(1),t.Q6J("matFooterRowDef",a.columns)}},dependencies:[p.sg,p.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.oH,r.sg,r.u,C.lW,C.zs,F.Hw,A.d,h.a8,h.dk,h.dn,h.n5,u.TO,u.KE,u.bx,u.hX,u.R9,N.Nt,q.gD,I.ey,x.Mq,x.hl,x.nW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.mD,m.Ke,m.ge,m.ev,m.yh,m.XQ,m.Gk,m.Q2,_.YE,_.nU,g.VK,g.OP,g.p6,U.s,f.yS,p.H9,Y.P]}),e})();const St=[{path:"",component:nt},{path:"nuevo",component:y},{path:"edit/:ID",component:y}];let Et=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(St),f.Bz]}),e})(),Ht=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,J.m,Et]}),e})()}}]);